<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Returns</title>
    <link rel="stylesheet" href="../shared/shared.css" />
    <style>
      .tabs {
        display: flex;
        gap: 8px;
        margin-bottom: 24px;
        flex-wrap: wrap;
      }

      .tab-btn {
        padding: 10px 24px;
        border: 1px solid var(--border);
        background: var(--white);
        border-radius: var(--radius-full);
        cursor: pointer;
        font-weight: 500;
        transition: var(--transition);
      }

      .tab-btn:hover {
        border-color: var(--primary);
        color: var(--primary);
      }

      .tab-btn.active {
        background: var(--primary);
        color: var(--white);
        border-color: var(--primary);
      }

      .return-card {
        background: var(--white);
        border-radius: var(--radius-lg);
        padding: 24px;
        margin-bottom: 20px;
        box-shadow: var(--shadow);
        border-left: 4px solid var(--border);
      }

      .return-card.pending {
        border-left-color: var(--warning);
      }

      .return-card.approved {
        border-left-color: var(--success);
      }

      .return-card.rejected {
        border-left-color: var(--danger);
      }

      .return-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 16px;
      }

      .return-status {
        padding: 6px 14px;
        border-radius: var(--radius-full);
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
      }

      .return-status.pending {
        background: rgba(245, 158, 11, 0.15);
        color: #b45309;
      }

      .return-status.approved {
        background: rgba(16, 185, 129, 0.15);
        color: #047857;
      }

      .return-status.rejected {
        background: rgba(239, 68, 68, 0.15);
        color: #b91c1c;
      }

      .return-reason {
        background: var(--light);
        padding: 12px 16px;
        border-radius: var(--radius);
        margin-top: 12px;
        color: var(--muted);
        font-size: 0.95rem;
      }

      .return-info-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;
        margin-top: 16px;
      }

      .return-info-item label {
        display: block;
        font-size: 0.8rem;
        color: var(--muted);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 4px;
      }

      .return-info-item span {
        font-weight: 600;
        color: var(--dark);
      }

      .policy-card {
        background: linear-gradient(135deg, var(--primary) 0%, #8b5cf6 100%);
        color: var(--white);
        padding: 24px;
        border-radius: var(--radius-lg);
        margin-bottom: 32px;
      }

      .policy-card h3 {
        margin-bottom: 8px;
      }

      .policy-card p {
        opacity: 0.9;
      }

      @media (max-width: 768px) {
        .return-info-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="nav">
      <div class="nav-brand">
        <i class="fa-solid fa-cart-shopping"></i> E-Commerce
      </div>
      <div class="nav-links">
        <a href="../index.html" class="nav-link">Home</a>
        <a href="products.html" class="nav-link">Products</a>
        <a href="cart.html" class="nav-link"
          ><i class="fa-solid fa-cart-shopping"></i> Cart
          <span
            id="navCartCount"
            class="badge badge-info"
            style="padding: 2px 6px; font-size: 0.7rem; display: none"
            >0</span
          ></a
        >
        <a
          href="orders.html"
          class="nav-link auth-required"
          style="display: none"
          >My Orders</a
        >
        <a
          href="returns.html"
          class="nav-link active auth-required"
          style="display: none"
          >Returns</a
        >
        <a href="../auth/login-register.html" class="nav-link" id="loginLink"
          >Login</a
        >
        <a href="#" class="nav-link logout" id="logoutBtn" style="display: none"
          >Logout</a
        >
      </div>
    </nav>

    <main class="container">
      <div class="page-header">
        <h1 class="page-title">My Returns</h1>
        <p class="page-subtitle">Track the status of your return requests.</p>
      </div>

      <!-- Return Policy -->
      <div class="policy-card">
        <h3><i class="fa-solid fa-box-open"></i> Return Policy</h3>
        <p>
          You can request a return within 14 days of order confirmation. Once
          approved, refunds are processed within 5-7 business days.
        </p>
      </div>

      <!-- Tabs -->
      <div class="tabs">
        <button class="tab-btn active" onclick="filterReturns('all', this)">
          All Returns
        </button>
        <button class="tab-btn" onclick="filterReturns('pending', this)">
          <i class="fa-solid fa-clock"></i> Pending
        </button>
        <button class="tab-btn" onclick="filterReturns('approved', this)">
          <i class="fa-solid fa-check"></i> Approved
        </button>
        <button class="tab-btn" onclick="filterReturns('rejected', this)">
          <i class="fa-solid fa-xmark"></i> Rejected
        </button>
      </div>

      <!-- Returns Container -->
      <div id="returnsContainer">
        <p class="text-center text-muted">Loading returns...</p>
      </div>
    </main>

    <!-- Firebase SDK -->
    <!-- Firebase SDK -->
    <script src="../shared/env.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="returns.js"></script>
  </body>
</html>
